[
    {
        "name": "excluded-only-version",
        "description": "Only one version of the requested package is available, but the user has banned that version.",
        "root": {
            "requires": [
                "a!=1.0.0"
            ]
        },
        "packages": {
            "a": {
                "versions": {
                    "1.0.0": {}
                }
            }
        },
        "expected": {
            "satisfiable": false,
            "explanation": "Only `a==1.0.0` is available but the user excluded it."
        }
    },
    {
        "name": "excluded-only-compatible-version",
        "description": "Only one version of the requested package `a` is compatible, but the user has banned that version.",
        "root": {
            "requires": [
                "a!=2.0.0",
                "b>=2.0.0,<3.0.0"
            ]
        },
        "packages": {
            "a": {
                "versions": {
                    "1.0.0": {
                        "requires": [
                            "b==1.0.0"
                        ]
                    },
                    "2.0.0": {
                        "requires": [
                            "b==2.0.0"
                        ]
                    },
                    "3.0.0": {
                        "requires": [
                            "b==3.0.0"
                        ]
                    }
                }
            },
            "b": {
                "versions": {
                    "1.0.0": {},
                    "2.0.0": {},
                    "3.0.0": {}
                }
            }
        },
        "expected": {
            "satisfiable": false,
            "explanation": "Only `a==1.2.0` is available since `a==1.0.0` and `a==3.0.0` require incompatible versions of `b`. The user has excluded that version of `a` so resolution fails."
        }
    },
    {
        "name": "dependency-excludes-range-of-compatible-versions",
        "description": "There is a range of compatible versions for the requested package `a`, but another dependency `c` excludes that range.",
        "root": {
            "requires": [
                "a",
                "b>=2.0.0,<3.0.0",
                "c"
            ]
        },
        "packages": {
            "a": {
                "versions": {
                    "1.0.0": {
                        "requires": [
                            "b==1.0.0"
                        ]
                    },
                    "2.0.0": {
                        "requires": [
                            "b==2.0.0"
                        ]
                    },
                    "2.1.0": {
                        "requires": [
                            "b==2.0.0"
                        ]
                    },
                    "2.2.0": {
                        "requires": [
                            "b==2.0.0"
                        ]
                    },
                    "2.3.0": {
                        "requires": [
                            "b==2.0.0"
                        ]
                    },
                    "3.0.0": {
                        "requires": [
                            "b==3.0.0"
                        ]
                    }
                }
            },
            "b": {
                "versions": {
                    "1.0.0": {},
                    "2.0.0": {},
                    "3.0.0": {}
                }
            },
            "c": {
                "versions": {
                    "1.0.0": {
                        "requires": [
                            "a<2.0.0"
                        ]
                    },
                    "2.0.0": {
                        "requires": [
                            "a>=3.0.0"
                        ]
                    }
                }
            }
        },
        "expected": {
            "satisfiable": false,
            "explanation": "Only the `2.x` versions of `a` are available since `a==1.0.0` and `a==3.0.0` require incompatible versions of `b`, but all available versions of `c` exclude that range of `a` so resolution fails."
        }
    },
    {
        "name": "dependency-excludes-non-contiguous-range-of-compatible-versions",
        "description": "There is a non-contiguous range of compatible versions for the requested package `a`, but another dependency `c` excludes the range. This is the same as `dependency-excludes-range-of-compatible-versions` but some of the versions of `a` are incompatible for another reason e.g. dependency on non-existent package `d`.",
        "root": {
            "requires": [
                "a",
                "b>=2.0.0,<3.0.0",
                "c"
            ]
        },
        "packages": {
            "a": {
                "versions": {
                    "1.0.0": {
                        "requires": [
                            "b==1.0.0"
                        ]
                    },
                    "2.0.0": {
                        "requires": [
                            "b==2.0.0"
                        ]
                    },
                    "2.1.0": {
                        "requires": [
                            "b==2.0.0",
                            "d"
                        ]
                    },
                    "2.2.0": {
                        "requires": [
                            "b==2.0.0"
                        ]
                    },
                    "2.3.0": {
                        "requires": [
                            "b==2.0.0",
                            "d"
                        ]
                    },
                    "2.4.0": {
                        "requires": [
                            "b==2.0.0"
                        ]
                    },
                    "3.0.0": {
                        "requires": [
                            "b==3.0.0"
                        ]
                    }
                }
            },
            "b": {
                "versions": {
                    "1.0.0": {},
                    "2.0.0": {},
                    "3.0.0": {}
                }
            },
            "c": {
                "versions": {
                    "1.0.0": {
                        "requires": [
                            "a<2.0.0"
                        ]
                    },
                    "2.0.0": {
                        "requires": [
                            "a>=3.0.0"
                        ]
                    }
                }
            }
        },
        "expected": {
            "satisfiable": false,
            "explanation": "Only the `2.x` versions of `a` are available since `a==1.0.0` and `a==3.0.0` require incompatible versions of `b`, but all available versions of `c` exclude that range of `a` so resolution fails."
        }
    }
]
