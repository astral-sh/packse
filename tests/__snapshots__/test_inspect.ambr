# serializer version: 1
# name: test_inspect
  dict({
    'exit_code': 0,
    'stderr': '',
    'stdout': '''
      {
        "scenarios": [
          {
            "name": "example",
            "packages": {
              "a": {
                "versions": {
                  "1.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [
                      "b>1.0.0"
                    ],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              },
              "b": {
                "versions": {
                  "1.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "3.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [
                      "c"
                    ],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              }
            },
            "root": {
              "requires_python": ">=3.7",
              "requires": [
                "a"
              ]
            },
            "expected": {
              "satisfiable": true,
              "packages": {
                "a": "1.0.0",
                "b": "3.0.0"
              },
              "explanation": "The latest valid version of `b` should be installed. `b==3.0.0` is not valid because it requires `c` which does not exist."
            },
            "environment": {
              "python": "3.7",
              "prereleases": false
            },
            "template": "simple",
            "description": "This is an example scenario, in which the user depends on a single package `a` which requires `b`.",
            "source": "[PWD]/scenarios/example.json",
            "version": "97db95eb",
            "tree": [
              "\u251c\u2500\u2500 environment",
              "\u2502   \u2514\u2500\u2500 python3.7",
              "\u251c\u2500\u2500 root",
              "\u2502   \u2514\u2500\u2500 requires a",
              "\u2502       \u2514\u2500\u2500 satisfied by a-1.0.0",
              "\u251c\u2500\u2500 a",
              "\u2502   \u2514\u2500\u2500 a-1.0.0",
              "\u2502       \u2514\u2500\u2500 requires b>1.0.0",
              "\u2502           \u251c\u2500\u2500 satisfied by b-2.0.0",
              "\u2502           \u2514\u2500\u2500 satisfied by b-3.0.0",
              "\u2514\u2500\u2500 b",
              "    \u251c\u2500\u2500 b-1.0.0",
              "    \u251c\u2500\u2500 b-2.0.0",
              "    \u2514\u2500\u2500 b-3.0.0",
              "        \u2514\u2500\u2500 requires c",
              "            \u2514\u2500\u2500 unsatisfied: no versions for package"
            ]
          }
        ]
      }
  
    ''',
  })
# ---
# name: test_inspect_invalid_target
  dict({
    'exit_code': 1,
    'stderr': '''
      File at '[PWD]/test.json' is not a valid scenario: Input data was truncated.
  
    ''',
    'stdout': '',
  })
# ---
# name: test_inspect_invalid_target_skip_invalid
  dict({
    'exit_code': 0,
    'stderr': '',
    'stdout': '''
      {
        "scenarios": [
          {
            "name": "example",
            "packages": {
              "a": {
                "versions": {
                  "1.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [
                      "b>1.0.0"
                    ],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              },
              "b": {
                "versions": {
                  "1.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "3.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [
                      "c"
                    ],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              }
            },
            "root": {
              "requires_python": ">=3.7",
              "requires": [
                "a"
              ]
            },
            "expected": {
              "satisfiable": true,
              "packages": {
                "a": "1.0.0",
                "b": "3.0.0"
              },
              "explanation": "The latest valid version of `b` should be installed. `b==3.0.0` is not valid because it requires `c` which does not exist."
            },
            "environment": {
              "python": "3.7",
              "prereleases": false
            },
            "template": "simple",
            "description": "This is an example scenario, in which the user depends on a single package `a` which requires `b`.",
            "source": "[PROJECT_ROOT]/scenarios/example.json",
            "version": "97db95eb",
            "tree": [
              "\u251c\u2500\u2500 environment",
              "\u2502   \u2514\u2500\u2500 python3.7",
              "\u251c\u2500\u2500 root",
              "\u2502   \u2514\u2500\u2500 requires a",
              "\u2502       \u2514\u2500\u2500 satisfied by a-1.0.0",
              "\u251c\u2500\u2500 a",
              "\u2502   \u2514\u2500\u2500 a-1.0.0",
              "\u2502       \u2514\u2500\u2500 requires b>1.0.0",
              "\u2502           \u251c\u2500\u2500 satisfied by b-2.0.0",
              "\u2502           \u2514\u2500\u2500 satisfied by b-3.0.0",
              "\u2514\u2500\u2500 b",
              "    \u251c\u2500\u2500 b-1.0.0",
              "    \u251c\u2500\u2500 b-2.0.0",
              "    \u2514\u2500\u2500 b-3.0.0",
              "        \u2514\u2500\u2500 requires c",
              "            \u2514\u2500\u2500 unsatisfied: no versions for package"
            ]
          }
        ]
      }
  
    ''',
  })
# ---
# name: test_inspect_no_target_finds_all_valid_scenarios
  dict({
    'exit_code': 0,
    'stderr': '',
    'stdout': '''
      {
        "scenarios": [
          {
            "name": "requires-package-does-not-exist",
            "packages": {},
            "root": {
              "requires_python": ">=3.7",
              "requires": [
                "a"
              ]
            },
            "expected": {
              "satisfiable": false,
              "packages": {},
              "explanation": null
            },
            "environment": {
              "python": "3.7",
              "prereleases": false
            },
            "template": "simple",
            "description": "The user requires any version of package `a` which does not exist.",
            "source": "[PWD]/scenarios/does-not-exist.json",
            "version": "57cd4136",
            "tree": [
              "\u251c\u2500\u2500 environment",
              "\u2502   \u2514\u2500\u2500 python3.7",
              "\u2514\u2500\u2500 root",
              "    \u2514\u2500\u2500 requires a",
              "        \u2514\u2500\u2500 unsatisfied: no versions for package"
            ]
          },
          {
            "name": "requires-exact-version-does-not-exist",
            "packages": {
              "a": {
                "versions": {
                  "1.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              }
            },
            "root": {
              "requires_python": ">=3.7",
              "requires": [
                "a==2.0.0"
              ]
            },
            "expected": {
              "satisfiable": false,
              "packages": {},
              "explanation": null
            },
            "environment": {
              "python": "3.7",
              "prereleases": false
            },
            "template": "simple",
            "description": "The user requires an exact version of package `a` but only other versions exist",
            "source": "[PWD]/scenarios/does-not-exist.json",
            "version": "eaa03067",
            "tree": [
              "\u251c\u2500\u2500 environment",
              "\u2502   \u2514\u2500\u2500 python3.7",
              "\u251c\u2500\u2500 root",
              "\u2502   \u2514\u2500\u2500 requires a==2.0.0",
              "\u2502       \u2514\u2500\u2500 unsatisfied: no matching version",
              "\u2514\u2500\u2500 a",
              "    \u2514\u2500\u2500 a-1.0.0"
            ]
          },
          {
            "name": "requires-greater-version-does-not-exist",
            "packages": {
              "a": {
                "versions": {
                  "0.1.0": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "1.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              }
            },
            "root": {
              "requires_python": ">=3.7",
              "requires": [
                "a>1.0.0"
              ]
            },
            "expected": {
              "satisfiable": false,
              "packages": {},
              "explanation": null
            },
            "environment": {
              "python": "3.7",
              "prereleases": false
            },
            "template": "simple",
            "description": "The user requires a version of `a` greater than `1.0.0` but only smaller or equal versions exist",
            "source": "[PWD]/scenarios/does-not-exist.json",
            "version": "6e8e01df",
            "tree": [
              "\u251c\u2500\u2500 environment",
              "\u2502   \u2514\u2500\u2500 python3.7",
              "\u251c\u2500\u2500 root",
              "\u2502   \u2514\u2500\u2500 requires a>1.0.0",
              "\u2502       \u2514\u2500\u2500 unsatisfied: no matching version",
              "\u2514\u2500\u2500 a",
              "    \u251c\u2500\u2500 a-0.1.0",
              "    \u2514\u2500\u2500 a-1.0.0"
            ]
          },
          {
            "name": "requires-less-version-does-not-exist",
            "packages": {
              "a": {
                "versions": {
                  "2.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "3.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "4.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              }
            },
            "root": {
              "requires_python": ">=3.7",
              "requires": [
                "a<2.0.0"
              ]
            },
            "expected": {
              "satisfiable": false,
              "packages": {},
              "explanation": null
            },
            "environment": {
              "python": "3.7",
              "prereleases": false
            },
            "template": "simple",
            "description": "The user requires a version of `a` less than `1.0.0` but only larger versions exist",
            "source": "[PWD]/scenarios/does-not-exist.json",
            "version": "e45cec3c",
            "tree": [
              "\u251c\u2500\u2500 environment",
              "\u2502   \u2514\u2500\u2500 python3.7",
              "\u251c\u2500\u2500 root",
              "\u2502   \u2514\u2500\u2500 requires a<2.0.0",
              "\u2502       \u2514\u2500\u2500 unsatisfied: no matching version",
              "\u2514\u2500\u2500 a",
              "    \u251c\u2500\u2500 a-2.0.0",
              "    \u251c\u2500\u2500 a-3.0.0",
              "    \u2514\u2500\u2500 a-4.0.0"
            ]
          },
          {
            "name": "transitive-requires-package-does-not-exist",
            "packages": {
              "a": {
                "versions": {
                  "1.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [
                      "b"
                    ],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              }
            },
            "root": {
              "requires_python": ">=3.7",
              "requires": [
                "a"
              ]
            },
            "expected": {
              "satisfiable": false,
              "packages": {},
              "explanation": null
            },
            "environment": {
              "python": "3.7",
              "prereleases": false
            },
            "template": "simple",
            "description": "The user requires package `a` but `a` requires package `b` which does not exist",
            "source": "[PWD]/scenarios/does-not-exist.json",
            "version": "aca2796a",
            "tree": [
              "\u251c\u2500\u2500 environment",
              "\u2502   \u2514\u2500\u2500 python3.7",
              "\u251c\u2500\u2500 root",
              "\u2502   \u2514\u2500\u2500 requires a",
              "\u2502       \u2514\u2500\u2500 satisfied by a-1.0.0",
              "\u2514\u2500\u2500 a",
              "    \u2514\u2500\u2500 a-1.0.0",
              "        \u2514\u2500\u2500 requires b",
              "            \u2514\u2500\u2500 unsatisfied: no versions for package"
            ]
          },
          {
            "name": "example",
            "packages": {
              "a": {
                "versions": {
                  "1.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [
                      "b>1.0.0"
                    ],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              },
              "b": {
                "versions": {
                  "1.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "3.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [
                      "c"
                    ],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              }
            },
            "root": {
              "requires_python": ">=3.7",
              "requires": [
                "a"
              ]
            },
            "expected": {
              "satisfiable": true,
              "packages": {
                "a": "1.0.0",
                "b": "3.0.0"
              },
              "explanation": "The latest valid version of `b` should be installed. `b==3.0.0` is not valid because it requires `c` which does not exist."
            },
            "environment": {
              "python": "3.7",
              "prereleases": false
            },
            "template": "simple",
            "description": "This is an example scenario, in which the user depends on a single package `a` which requires `b`.",
            "source": "[PWD]/scenarios/example.json",
            "version": "97db95eb",
            "tree": [
              "\u251c\u2500\u2500 environment",
              "\u2502   \u2514\u2500\u2500 python3.7",
              "\u251c\u2500\u2500 root",
              "\u2502   \u2514\u2500\u2500 requires a",
              "\u2502       \u2514\u2500\u2500 satisfied by a-1.0.0",
              "\u251c\u2500\u2500 a",
              "\u2502   \u2514\u2500\u2500 a-1.0.0",
              "\u2502       \u2514\u2500\u2500 requires b>1.0.0",
              "\u2502           \u251c\u2500\u2500 satisfied by b-2.0.0",
              "\u2502           \u2514\u2500\u2500 satisfied by b-3.0.0",
              "\u2514\u2500\u2500 b",
              "    \u251c\u2500\u2500 b-1.0.0",
              "    \u251c\u2500\u2500 b-2.0.0",
              "    \u2514\u2500\u2500 b-3.0.0",
              "        \u2514\u2500\u2500 requires c",
              "            \u2514\u2500\u2500 unsatisfied: no versions for package"
            ]
          },
          {
            "name": "excluded-only-version",
            "packages": {
              "a": {
                "versions": {
                  "1.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              }
            },
            "root": {
              "requires_python": ">=3.7",
              "requires": [
                "a!=1.0.0"
              ]
            },
            "expected": {
              "satisfiable": false,
              "packages": {},
              "explanation": "Only `a==1.0.0` is available but the user excluded it."
            },
            "environment": {
              "python": "3.7",
              "prereleases": false
            },
            "template": "simple",
            "description": "Only one version of the requested package is available, but the user has banned that version.",
            "source": "[PWD]/scenarios/excluded.json",
            "version": "7a9ed79c",
            "tree": [
              "\u251c\u2500\u2500 environment",
              "\u2502   \u2514\u2500\u2500 python3.7",
              "\u251c\u2500\u2500 root",
              "\u2502   \u2514\u2500\u2500 requires a!=1.0.0",
              "\u2502       \u2514\u2500\u2500 unsatisfied: no matching version",
              "\u2514\u2500\u2500 a",
              "    \u2514\u2500\u2500 a-1.0.0"
            ]
          },
          {
            "name": "excluded-only-compatible-version",
            "packages": {
              "a": {
                "versions": {
                  "1.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [
                      "b==1.0.0"
                    ],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [
                      "b==2.0.0"
                    ],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "3.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [
                      "b==3.0.0"
                    ],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              },
              "b": {
                "versions": {
                  "1.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "3.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              }
            },
            "root": {
              "requires_python": ">=3.7",
              "requires": [
                "a!=2.0.0",
                "b>=2.0.0,<3.0.0"
              ]
            },
            "expected": {
              "satisfiable": false,
              "packages": {},
              "explanation": "Only `a==1.2.0` is available since `a==1.0.0` and `a==3.0.0` require incompatible versions of `b`. The user has excluded that version of `a` so resolution fails."
            },
            "environment": {
              "python": "3.7",
              "prereleases": false
            },
            "template": "simple",
            "description": "Only one version of the requested package `a` is compatible, but the user has banned that version.",
            "source": "[PWD]/scenarios/excluded.json",
            "version": "d28c9e3c",
            "tree": [
              "\u251c\u2500\u2500 environment",
              "\u2502   \u2514\u2500\u2500 python3.7",
              "\u251c\u2500\u2500 root",
              "\u2502   \u251c\u2500\u2500 requires a!=2.0.0",
              "\u2502   \u2502   \u251c\u2500\u2500 satisfied by a-1.0.0",
              "\u2502   \u2502   \u2514\u2500\u2500 satisfied by a-3.0.0",
              "\u2502   \u2514\u2500\u2500 requires b>=2.0.0,<3.0.0",
              "\u2502       \u2514\u2500\u2500 satisfied by b-2.0.0",
              "\u251c\u2500\u2500 a",
              "\u2502   \u251c\u2500\u2500 a-1.0.0",
              "\u2502   \u2502   \u2514\u2500\u2500 requires b==1.0.0",
              "\u2502   \u2502       \u2514\u2500\u2500 satisfied by b-1.0.0",
              "\u2502   \u251c\u2500\u2500 a-2.0.0",
              "\u2502   \u2502   \u2514\u2500\u2500 requires b==2.0.0",
              "\u2502   \u2502       \u2514\u2500\u2500 satisfied by b-2.0.0",
              "\u2502   \u2514\u2500\u2500 a-3.0.0",
              "\u2502       \u2514\u2500\u2500 requires b==3.0.0",
              "\u2502           \u2514\u2500\u2500 satisfied by b-3.0.0",
              "\u2514\u2500\u2500 b",
              "    \u251c\u2500\u2500 b-1.0.0",
              "    \u251c\u2500\u2500 b-2.0.0",
              "    \u2514\u2500\u2500 b-3.0.0"
            ]
          },
          {
            "name": "dependency-excludes-range-of-compatible-versions",
            "packages": {
              "a": {
                "versions": {
                  "1.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [
                      "b==1.0.0"
                    ],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [
                      "b==2.0.0"
                    ],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.1.0": {
                    "requires_python": ">=3.7",
                    "requires": [
                      "b==2.0.0"
                    ],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.2.0": {
                    "requires_python": ">=3.7",
                    "requires": [
                      "b==2.0.0"
                    ],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.3.0": {
                    "requires_python": ">=3.7",
                    "requires": [
                      "b==2.0.0"
                    ],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "3.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [
                      "b==3.0.0"
                    ],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              },
              "b": {
                "versions": {
                  "1.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "3.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              },
              "c": {
                "versions": {
                  "1.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [
                      "a<2.0.0"
                    ],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [
                      "a>=3.0.0"
                    ],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              }
            },
            "root": {
              "requires_python": ">=3.7",
              "requires": [
                "a",
                "b>=2.0.0,<3.0.0",
                "c"
              ]
            },
            "expected": {
              "satisfiable": false,
              "packages": {},
              "explanation": "Only the `2.x` versions of `a` are available since `a==1.0.0` and `a==3.0.0` require incompatible versions of `b`, but all available versions of `c` exclude that range of `a` so resolution fails."
            },
            "environment": {
              "python": "3.7",
              "prereleases": false
            },
            "template": "simple",
            "description": "There is a range of compatible versions for the requested package `a`, but another dependency `c` excludes that range.",
            "source": "[PWD]/scenarios/excluded.json",
            "version": "2023222f",
            "tree": [
              "\u251c\u2500\u2500 environment",
              "\u2502   \u2514\u2500\u2500 python3.7",
              "\u251c\u2500\u2500 root",
              "\u2502   \u251c\u2500\u2500 requires a",
              "\u2502   \u2502   \u251c\u2500\u2500 satisfied by a-1.0.0",
              "\u2502   \u2502   \u251c\u2500\u2500 satisfied by a-2.0.0",
              "\u2502   \u2502   \u251c\u2500\u2500 satisfied by a-2.1.0",
              "\u2502   \u2502   \u251c\u2500\u2500 satisfied by a-2.2.0",
              "\u2502   \u2502   \u251c\u2500\u2500 satisfied by a-2.3.0",
              "\u2502   \u2502   \u2514\u2500\u2500 satisfied by a-3.0.0",
              "\u2502   \u251c\u2500\u2500 requires b>=2.0.0,<3.0.0",
              "\u2502   \u2502   \u2514\u2500\u2500 satisfied by b-2.0.0",
              "\u2502   \u2514\u2500\u2500 requires c",
              "\u2502       \u251c\u2500\u2500 satisfied by c-1.0.0",
              "\u2502       \u2514\u2500\u2500 satisfied by c-2.0.0",
              "\u251c\u2500\u2500 a",
              "\u2502   \u251c\u2500\u2500 a-1.0.0",
              "\u2502   \u2502   \u2514\u2500\u2500 requires b==1.0.0",
              "\u2502   \u2502       \u2514\u2500\u2500 satisfied by b-1.0.0",
              "\u2502   \u251c\u2500\u2500 a-2.0.0",
              "\u2502   \u2502   \u2514\u2500\u2500 requires b==2.0.0",
              "\u2502   \u2502       \u2514\u2500\u2500 satisfied by b-2.0.0",
              "\u2502   \u251c\u2500\u2500 a-2.1.0",
              "\u2502   \u2502   \u2514\u2500\u2500 requires b==2.0.0",
              "\u2502   \u2502       \u2514\u2500\u2500 satisfied by b-2.0.0",
              "\u2502   \u251c\u2500\u2500 a-2.2.0",
              "\u2502   \u2502   \u2514\u2500\u2500 requires b==2.0.0",
              "\u2502   \u2502       \u2514\u2500\u2500 satisfied by b-2.0.0",
              "\u2502   \u251c\u2500\u2500 a-2.3.0",
              "\u2502   \u2502   \u2514\u2500\u2500 requires b==2.0.0",
              "\u2502   \u2502       \u2514\u2500\u2500 satisfied by b-2.0.0",
              "\u2502   \u2514\u2500\u2500 a-3.0.0",
              "\u2502       \u2514\u2500\u2500 requires b==3.0.0",
              "\u2502           \u2514\u2500\u2500 satisfied by b-3.0.0",
              "\u251c\u2500\u2500 b",
              "\u2502   \u251c\u2500\u2500 b-1.0.0",
              "\u2502   \u251c\u2500\u2500 b-2.0.0",
              "\u2502   \u2514\u2500\u2500 b-3.0.0",
              "\u2514\u2500\u2500 c",
              "    \u251c\u2500\u2500 c-1.0.0",
              "    \u2502   \u2514\u2500\u2500 requires a<2.0.0",
              "    \u2502       \u2514\u2500\u2500 satisfied by a-1.0.0",
              "    \u2514\u2500\u2500 c-2.0.0",
              "        \u2514\u2500\u2500 requires a>=3.0.0",
              "            \u2514\u2500\u2500 satisfied by a-3.0.0"
            ]
          },
          {
            "name": "dependency-excludes-non-contiguous-range-of-compatible-versions",
            "packages": {
              "a": {
                "versions": {
                  "1.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [
                      "b==1.0.0"
                    ],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [
                      "b==2.0.0"
                    ],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.1.0": {
                    "requires_python": ">=3.7",
                    "requires": [
                      "b==2.0.0",
                      "d"
                    ],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.2.0": {
                    "requires_python": ">=3.7",
                    "requires": [
                      "b==2.0.0"
                    ],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.3.0": {
                    "requires_python": ">=3.7",
                    "requires": [
                      "b==2.0.0",
                      "d"
                    ],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.4.0": {
                    "requires_python": ">=3.7",
                    "requires": [
                      "b==2.0.0"
                    ],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "3.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [
                      "b==3.0.0"
                    ],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              },
              "b": {
                "versions": {
                  "1.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "3.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              },
              "c": {
                "versions": {
                  "1.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [
                      "a<2.0.0"
                    ],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [
                      "a>=3.0.0"
                    ],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              }
            },
            "root": {
              "requires_python": ">=3.7",
              "requires": [
                "a",
                "b>=2.0.0,<3.0.0",
                "c"
              ]
            },
            "expected": {
              "satisfiable": false,
              "packages": {},
              "explanation": "Only the `2.x` versions of `a` are available since `a==1.0.0` and `a==3.0.0` require incompatible versions of `b`, but all available versions of `c` exclude that range of `a` so resolution fails."
            },
            "environment": {
              "python": "3.7",
              "prereleases": false
            },
            "template": "simple",
            "description": "There is a non-contiguous range of compatible versions for the requested package `a`, but another dependency `c` excludes the range. This is the same as `dependency-excludes-range-of-compatible-versions` but some of the versions of `a` are incompatible for another reason e.g. dependency on non-existant package `d`.",
            "source": "[PWD]/scenarios/excluded.json",
            "version": "aece4208",
            "tree": [
              "\u251c\u2500\u2500 environment",
              "\u2502   \u2514\u2500\u2500 python3.7",
              "\u251c\u2500\u2500 root",
              "\u2502   \u251c\u2500\u2500 requires a",
              "\u2502   \u2502   \u251c\u2500\u2500 satisfied by a-1.0.0",
              "\u2502   \u2502   \u251c\u2500\u2500 satisfied by a-2.0.0",
              "\u2502   \u2502   \u251c\u2500\u2500 satisfied by a-2.1.0",
              "\u2502   \u2502   \u251c\u2500\u2500 satisfied by a-2.2.0",
              "\u2502   \u2502   \u251c\u2500\u2500 satisfied by a-2.3.0",
              "\u2502   \u2502   \u251c\u2500\u2500 satisfied by a-2.4.0",
              "\u2502   \u2502   \u2514\u2500\u2500 satisfied by a-3.0.0",
              "\u2502   \u251c\u2500\u2500 requires b>=2.0.0,<3.0.0",
              "\u2502   \u2502   \u2514\u2500\u2500 satisfied by b-2.0.0",
              "\u2502   \u2514\u2500\u2500 requires c",
              "\u2502       \u251c\u2500\u2500 satisfied by c-1.0.0",
              "\u2502       \u2514\u2500\u2500 satisfied by c-2.0.0",
              "\u251c\u2500\u2500 a",
              "\u2502   \u251c\u2500\u2500 a-1.0.0",
              "\u2502   \u2502   \u2514\u2500\u2500 requires b==1.0.0",
              "\u2502   \u2502       \u2514\u2500\u2500 satisfied by b-1.0.0",
              "\u2502   \u251c\u2500\u2500 a-2.0.0",
              "\u2502   \u2502   \u2514\u2500\u2500 requires b==2.0.0",
              "\u2502   \u2502       \u2514\u2500\u2500 satisfied by b-2.0.0",
              "\u2502   \u251c\u2500\u2500 a-2.1.0",
              "\u2502   \u2502   \u251c\u2500\u2500 requires b==2.0.0",
              "\u2502   \u2502   \u2502   \u2514\u2500\u2500 satisfied by b-2.0.0",
              "\u2502   \u2502   \u2514\u2500\u2500 requires d",
              "\u2502   \u2502       \u2514\u2500\u2500 unsatisfied: no versions for package",
              "\u2502   \u251c\u2500\u2500 a-2.2.0",
              "\u2502   \u2502   \u2514\u2500\u2500 requires b==2.0.0",
              "\u2502   \u2502       \u2514\u2500\u2500 satisfied by b-2.0.0",
              "\u2502   \u251c\u2500\u2500 a-2.3.0",
              "\u2502   \u2502   \u251c\u2500\u2500 requires b==2.0.0",
              "\u2502   \u2502   \u2502   \u2514\u2500\u2500 satisfied by b-2.0.0",
              "\u2502   \u2502   \u2514\u2500\u2500 requires d",
              "\u2502   \u2502       \u2514\u2500\u2500 unsatisfied: no versions for package",
              "\u2502   \u251c\u2500\u2500 a-2.4.0",
              "\u2502   \u2502   \u2514\u2500\u2500 requires b==2.0.0",
              "\u2502   \u2502       \u2514\u2500\u2500 satisfied by b-2.0.0",
              "\u2502   \u2514\u2500\u2500 a-3.0.0",
              "\u2502       \u2514\u2500\u2500 requires b==3.0.0",
              "\u2502           \u2514\u2500\u2500 satisfied by b-3.0.0",
              "\u251c\u2500\u2500 b",
              "\u2502   \u251c\u2500\u2500 b-1.0.0",
              "\u2502   \u251c\u2500\u2500 b-2.0.0",
              "\u2502   \u2514\u2500\u2500 b-3.0.0",
              "\u2514\u2500\u2500 c",
              "    \u251c\u2500\u2500 c-1.0.0",
              "    \u2502   \u2514\u2500\u2500 requires a<2.0.0",
              "    \u2502       \u2514\u2500\u2500 satisfied by a-1.0.0",
              "    \u2514\u2500\u2500 c-2.0.0",
              "        \u2514\u2500\u2500 requires a>=3.0.0",
              "            \u2514\u2500\u2500 satisfied by a-3.0.0"
            ]
          },
          {
            "name": "existing-extra-required",
            "packages": {
              "a": {
                "versions": {
                  "1.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {
                      "extra": [
                        "b"
                      ]
                    },
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              },
              "b": {
                "versions": {
                  "1.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              }
            },
            "root": {
              "requires_python": ">=3.7",
              "requires": [
                "a[extra]"
              ]
            },
            "expected": {
              "satisfiable": true,
              "packages": {},
              "explanation": null
            },
            "environment": {
              "python": "3.7",
              "prereleases": false
            },
            "template": "simple",
            "description": "Optional dependencies are requested for the package.",
            "source": "[PWD]/scenarios/extras.json",
            "version": "6877349a",
            "tree": [
              "\u251c\u2500\u2500 environment",
              "\u2502   \u2514\u2500\u2500 python3.7",
              "\u251c\u2500\u2500 root",
              "\u2502   \u2514\u2500\u2500 requires a[extra]",
              "\u2502       \u2514\u2500\u2500 satisfied by a-1.0.0",
              "\u251c\u2500\u2500 a",
              "\u2502   \u2514\u2500\u2500 a-1.0.0",
              "\u2514\u2500\u2500 b",
              "    \u2514\u2500\u2500 b-1.0.0"
            ]
          },
          {
            "name": "direct-incompatible-versions",
            "packages": {
              "a": {
                "versions": {
                  "1.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              }
            },
            "root": {
              "requires_python": ">=3.7",
              "requires": [
                "a==1.0.0",
                "a==2.0.0"
              ]
            },
            "expected": {
              "satisfiable": false,
              "packages": {},
              "explanation": null
            },
            "environment": {
              "python": "3.7",
              "prereleases": false
            },
            "template": "simple",
            "description": "The user requires two incompatible, existing versions of package `a`",
            "source": "[PWD]/scenarios/incompatible-versions.json",
            "version": "80d82ee8",
            "tree": [
              "\u251c\u2500\u2500 environment",
              "\u2502   \u2514\u2500\u2500 python3.7",
              "\u251c\u2500\u2500 root",
              "\u2502   \u251c\u2500\u2500 requires a==1.0.0",
              "\u2502   \u2502   \u2514\u2500\u2500 satisfied by a-1.0.0",
              "\u2502   \u2514\u2500\u2500 requires a==2.0.0",
              "\u2502       \u2514\u2500\u2500 satisfied by a-2.0.0",
              "\u2514\u2500\u2500 a",
              "    \u251c\u2500\u2500 a-1.0.0",
              "    \u2514\u2500\u2500 a-2.0.0"
            ]
          },
          {
            "name": "transitive-incompatible-with-root-version",
            "packages": {
              "a": {
                "versions": {
                  "1.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [
                      "b==2.0.0"
                    ],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              },
              "b": {
                "versions": {
                  "1.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              }
            },
            "root": {
              "requires_python": ">=3.7",
              "requires": [
                "a",
                "b==1.0.0"
              ]
            },
            "expected": {
              "satisfiable": false,
              "packages": {},
              "explanation": null
            },
            "environment": {
              "python": "3.7",
              "prereleases": false
            },
            "template": "simple",
            "description": "The user requires packages `a` and `b` but `a` requires a different version of `b`",
            "source": "[PWD]/scenarios/incompatible-versions.json",
            "version": "a967e815",
            "tree": [
              "\u251c\u2500\u2500 environment",
              "\u2502   \u2514\u2500\u2500 python3.7",
              "\u251c\u2500\u2500 root",
              "\u2502   \u251c\u2500\u2500 requires a",
              "\u2502   \u2502   \u2514\u2500\u2500 satisfied by a-1.0.0",
              "\u2502   \u2514\u2500\u2500 requires b==1.0.0",
              "\u2502       \u2514\u2500\u2500 satisfied by b-1.0.0",
              "\u251c\u2500\u2500 a",
              "\u2502   \u2514\u2500\u2500 a-1.0.0",
              "\u2502       \u2514\u2500\u2500 requires b==2.0.0",
              "\u2502           \u2514\u2500\u2500 satisfied by b-2.0.0",
              "\u2514\u2500\u2500 b",
              "    \u251c\u2500\u2500 b-1.0.0",
              "    \u2514\u2500\u2500 b-2.0.0"
            ]
          },
          {
            "name": "transitive-incompatible-with-transitive",
            "packages": {
              "a": {
                "versions": {
                  "1.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [
                      "c==1.0.0"
                    ],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              },
              "b": {
                "versions": {
                  "1.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [
                      "c==2.0.0"
                    ],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              },
              "c": {
                "versions": {
                  "1.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              }
            },
            "root": {
              "requires_python": ">=3.7",
              "requires": [
                "a",
                "b"
              ]
            },
            "expected": {
              "satisfiable": false,
              "packages": {},
              "explanation": null
            },
            "environment": {
              "python": "3.7",
              "prereleases": false
            },
            "template": "simple",
            "description": "The user requires package `a` and `b`; `a` and `b` require different versions of `c`",
            "source": "[PWD]/scenarios/incompatible-versions.json",
            "version": "6866d8dc",
            "tree": [
              "\u251c\u2500\u2500 environment",
              "\u2502   \u2514\u2500\u2500 python3.7",
              "\u251c\u2500\u2500 root",
              "\u2502   \u251c\u2500\u2500 requires a",
              "\u2502   \u2502   \u2514\u2500\u2500 satisfied by a-1.0.0",
              "\u2502   \u2514\u2500\u2500 requires b",
              "\u2502       \u2514\u2500\u2500 satisfied by b-1.0.0",
              "\u251c\u2500\u2500 a",
              "\u2502   \u2514\u2500\u2500 a-1.0.0",
              "\u2502       \u2514\u2500\u2500 requires c==1.0.0",
              "\u2502           \u2514\u2500\u2500 satisfied by c-1.0.0",
              "\u251c\u2500\u2500 b",
              "\u2502   \u2514\u2500\u2500 b-1.0.0",
              "\u2502       \u2514\u2500\u2500 requires c==2.0.0",
              "\u2502           \u2514\u2500\u2500 satisfied by c-2.0.0",
              "\u2514\u2500\u2500 c",
              "    \u251c\u2500\u2500 c-1.0.0",
              "    \u2514\u2500\u2500 c-2.0.0"
            ]
          },
          {
            "name": "package-only-prereleases",
            "packages": {
              "a": {
                "versions": {
                  "1.0.0a1": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              }
            },
            "root": {
              "requires_python": ">=3.7",
              "requires": [
                "a"
              ]
            },
            "expected": {
              "satisfiable": true,
              "packages": {
                "a": "1.0.0a1"
              },
              "explanation": "Since there are only prerelease versions of `a` available, it should be installed even though the user did not include a prerelease specifier."
            },
            "environment": {
              "python": "3.7",
              "prereleases": false
            },
            "template": "simple",
            "description": "The user requires any version of package `a` which only has prerelease versions available.",
            "source": "[PWD]/scenarios/prereleases.json",
            "version": "9a1b3dda",
            "tree": [
              "\u251c\u2500\u2500 environment",
              "\u2502   \u2514\u2500\u2500 python3.7",
              "\u251c\u2500\u2500 root",
              "\u2502   \u2514\u2500\u2500 requires a",
              "\u2502       \u2514\u2500\u2500 unsatisfied: no matching version",
              "\u2514\u2500\u2500 a",
              "    \u2514\u2500\u2500 a-1.0.0a1"
            ]
          },
          {
            "name": "package-only-prereleases-in-range",
            "packages": {
              "a": {
                "versions": {
                  "0.1.0": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "1.0.0a1": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              }
            },
            "root": {
              "requires_python": ">=3.7",
              "requires": [
                "a>0.1.0"
              ]
            },
            "expected": {
              "satisfiable": false,
              "packages": {},
              "explanation": "Since there are stable versions of `a` available, prerelease versions should not be selected without explicit opt-in."
            },
            "environment": {
              "python": "3.7",
              "prereleases": false
            },
            "template": "simple",
            "description": "The user requires a version of package `a` which only matches prerelease versions but they did not include a prerelease specifier.",
            "source": "[PWD]/scenarios/prereleases.json",
            "version": "19673198",
            "tree": [
              "\u251c\u2500\u2500 environment",
              "\u2502   \u2514\u2500\u2500 python3.7",
              "\u251c\u2500\u2500 root",
              "\u2502   \u2514\u2500\u2500 requires a>0.1.0",
              "\u2502       \u2514\u2500\u2500 unsatisfied: no matching version",
              "\u2514\u2500\u2500 a",
              "    \u251c\u2500\u2500 a-0.1.0",
              "    \u2514\u2500\u2500 a-1.0.0a1"
            ]
          },
          {
            "name": "requires-package-only-prereleases-in-range-global-opt-in",
            "packages": {
              "a": {
                "versions": {
                  "0.1.0": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "1.0.0a1": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              }
            },
            "root": {
              "requires_python": ">=3.7",
              "requires": [
                "a>0.1.0"
              ]
            },
            "expected": {
              "satisfiable": true,
              "packages": {
                "a": "1.0.0a1"
              },
              "explanation": null
            },
            "environment": {
              "python": "3.7",
              "prereleases": true
            },
            "template": "simple",
            "description": "The user requires a version of package `a` which only matches prerelease versions. They did not include a prerelease specifier for the package, but they opted into prereleases globally.",
            "source": "[PWD]/scenarios/prereleases.json",
            "version": "51f94da2",
            "tree": [
              "\u251c\u2500\u2500 environment",
              "\u2502   \u2514\u2500\u2500 python3.7",
              "\u251c\u2500\u2500 root",
              "\u2502   \u2514\u2500\u2500 requires a>0.1.0",
              "\u2502       \u2514\u2500\u2500 unsatisfied: no matching version",
              "\u2514\u2500\u2500 a",
              "    \u251c\u2500\u2500 a-0.1.0",
              "    \u2514\u2500\u2500 a-1.0.0a1"
            ]
          },
          {
            "name": "requires-package-prerelease-and-final-any",
            "packages": {
              "a": {
                "versions": {
                  "0.1.0": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "1.0.0a1": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              }
            },
            "root": {
              "requires_python": ">=3.7",
              "requires": [
                "a"
              ]
            },
            "expected": {
              "satisfiable": true,
              "packages": {
                "a": "0.1.0"
              },
              "explanation": "Since the user did not provide a prerelease specifier, the older stable version should be selected."
            },
            "environment": {
              "python": "3.7",
              "prereleases": false
            },
            "template": "simple",
            "description": "The user requires any version of package `a` has a prerelease version available and an older non-prerelease version.",
            "source": "[PWD]/scenarios/prereleases.json",
            "version": "eebe53a6",
            "tree": [
              "\u251c\u2500\u2500 environment",
              "\u2502   \u2514\u2500\u2500 python3.7",
              "\u251c\u2500\u2500 root",
              "\u2502   \u2514\u2500\u2500 requires a",
              "\u2502       \u2514\u2500\u2500 satisfied by a-0.1.0",
              "\u2514\u2500\u2500 a",
              "    \u251c\u2500\u2500 a-0.1.0",
              "    \u2514\u2500\u2500 a-1.0.0a1"
            ]
          },
          {
            "name": "package-prerelease-specified-only-final-available",
            "packages": {
              "a": {
                "versions": {
                  "0.1.0": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "0.2.0": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "0.3.0": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              }
            },
            "root": {
              "requires_python": ">=3.7",
              "requires": [
                "a>=0.1.0a1"
              ]
            },
            "expected": {
              "satisfiable": true,
              "packages": {
                "a": "0.3.0"
              },
              "explanation": "The latest stable version should be selected."
            },
            "environment": {
              "python": "3.7",
              "prereleases": false
            },
            "template": "simple",
            "description": "The user requires a version of `a` with a prerelease specifier and only stable releases are available.",
            "source": "[PWD]/scenarios/prereleases.json",
            "version": "9d4725eb",
            "tree": [
              "\u251c\u2500\u2500 environment",
              "\u2502   \u2514\u2500\u2500 python3.7",
              "\u251c\u2500\u2500 root",
              "\u2502   \u2514\u2500\u2500 requires a>=0.1.0a1",
              "\u2502       \u251c\u2500\u2500 satisfied by a-0.1.0",
              "\u2502       \u251c\u2500\u2500 satisfied by a-0.2.0",
              "\u2502       \u2514\u2500\u2500 satisfied by a-0.3.0",
              "\u2514\u2500\u2500 a",
              "    \u251c\u2500\u2500 a-0.1.0",
              "    \u251c\u2500\u2500 a-0.2.0",
              "    \u2514\u2500\u2500 a-0.3.0"
            ]
          },
          {
            "name": "package-prerelease-specified-only-prerelease-available",
            "packages": {
              "a": {
                "versions": {
                  "0.1.0a1": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "0.2.0a1": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "0.3.0a1": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              }
            },
            "root": {
              "requires_python": ">=3.7",
              "requires": [
                "a>=0.1.0a1"
              ]
            },
            "expected": {
              "satisfiable": true,
              "packages": {
                "a": "0.3.0a1"
              },
              "explanation": "The latest prerelease version should be selected."
            },
            "environment": {
              "python": "3.7",
              "prereleases": false
            },
            "template": "simple",
            "description": "The user requires a version of `a` with a prerelease specifier and only prerelease releases are available.",
            "source": "[PWD]/scenarios/prereleases.json",
            "version": "6cc95bc8",
            "tree": [
              "\u251c\u2500\u2500 environment",
              "\u2502   \u2514\u2500\u2500 python3.7",
              "\u251c\u2500\u2500 root",
              "\u2502   \u2514\u2500\u2500 requires a>=0.1.0a1",
              "\u2502       \u251c\u2500\u2500 satisfied by a-0.1.0a1",
              "\u2502       \u251c\u2500\u2500 satisfied by a-0.2.0a1",
              "\u2502       \u2514\u2500\u2500 satisfied by a-0.3.0a1",
              "\u2514\u2500\u2500 a",
              "    \u251c\u2500\u2500 a-0.1.0a1",
              "    \u251c\u2500\u2500 a-0.2.0a1",
              "    \u2514\u2500\u2500 a-0.3.0a1"
            ]
          },
          {
            "name": "package-prerelease-specified-mixed-available",
            "packages": {
              "a": {
                "versions": {
                  "0.1.0": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "0.2.0a1": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "0.3.0": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "1.0.0a1": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              }
            },
            "root": {
              "requires_python": ">=3.7",
              "requires": [
                "a>=0.1.0a1"
              ]
            },
            "expected": {
              "satisfiable": true,
              "packages": {
                "a": "1.0.0a1"
              },
              "explanation": "Since the user provided a prerelease specifier, the latest prerelease version should be selected."
            },
            "environment": {
              "python": "3.7",
              "prereleases": false
            },
            "template": "simple",
            "description": "The user requires a version of `a` with a prerelease specifier and both prerelease and stable releases are available.",
            "source": "[PWD]/scenarios/prereleases.json",
            "version": "c97845e2",
            "tree": [
              "\u251c\u2500\u2500 environment",
              "\u2502   \u2514\u2500\u2500 python3.7",
              "\u251c\u2500\u2500 root",
              "\u2502   \u2514\u2500\u2500 requires a>=0.1.0a1",
              "\u2502       \u251c\u2500\u2500 satisfied by a-0.1.0",
              "\u2502       \u251c\u2500\u2500 satisfied by a-0.2.0a1",
              "\u2502       \u251c\u2500\u2500 satisfied by a-0.3.0",
              "\u2502       \u2514\u2500\u2500 satisfied by a-1.0.0a1",
              "\u2514\u2500\u2500 a",
              "    \u251c\u2500\u2500 a-0.1.0",
              "    \u251c\u2500\u2500 a-0.2.0a1",
              "    \u251c\u2500\u2500 a-0.3.0",
              "    \u2514\u2500\u2500 a-1.0.0a1"
            ]
          },
          {
            "name": "package-multiple-prereleases-kinds",
            "packages": {
              "a": {
                "versions": {
                  "1.0.0a1": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "1.0.0b1": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "1.0.0rc1": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              }
            },
            "root": {
              "requires_python": ">=3.7",
              "requires": [
                "a>=1.0.0a1"
              ]
            },
            "expected": {
              "satisfiable": true,
              "packages": {
                "a": "1.0.0rc1"
              },
              "explanation": "Release candidates should be the highest precedence prerelease kind."
            },
            "environment": {
              "python": "3.7",
              "prereleases": false
            },
            "template": "simple",
            "description": "The user requires `a` which has multiple prereleases available with different labels.",
            "source": "[PWD]/scenarios/prereleases.json",
            "version": "e290bf29",
            "tree": [
              "\u251c\u2500\u2500 environment",
              "\u2502   \u2514\u2500\u2500 python3.7",
              "\u251c\u2500\u2500 root",
              "\u2502   \u2514\u2500\u2500 requires a>=1.0.0a1",
              "\u2502       \u251c\u2500\u2500 satisfied by a-1.0.0a1",
              "\u2502       \u251c\u2500\u2500 satisfied by a-1.0.0b1",
              "\u2502       \u2514\u2500\u2500 satisfied by a-1.0.0rc1",
              "\u2514\u2500\u2500 a",
              "    \u251c\u2500\u2500 a-1.0.0a1",
              "    \u251c\u2500\u2500 a-1.0.0b1",
              "    \u2514\u2500\u2500 a-1.0.0rc1"
            ]
          },
          {
            "name": "package-multiple-prereleases-numbers",
            "packages": {
              "a": {
                "versions": {
                  "1.0.0a1": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "1.0.0a2": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "1.0.0a3": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              }
            },
            "root": {
              "requires_python": ">=3.7",
              "requires": [
                "a>=1.0.0a1"
              ]
            },
            "expected": {
              "satisfiable": true,
              "packages": {
                "a": "1.0.0a3"
              },
              "explanation": "The latest alpha version should be selected."
            },
            "environment": {
              "python": "3.7",
              "prereleases": false
            },
            "template": "simple",
            "description": "The user requires `a` which has multiple alphas available.",
            "source": "[PWD]/scenarios/prereleases.json",
            "version": "f5948c28",
            "tree": [
              "\u251c\u2500\u2500 environment",
              "\u2502   \u2514\u2500\u2500 python3.7",
              "\u251c\u2500\u2500 root",
              "\u2502   \u2514\u2500\u2500 requires a>=1.0.0a1",
              "\u2502       \u251c\u2500\u2500 satisfied by a-1.0.0a1",
              "\u2502       \u251c\u2500\u2500 satisfied by a-1.0.0a2",
              "\u2502       \u2514\u2500\u2500 satisfied by a-1.0.0a3",
              "\u2514\u2500\u2500 a",
              "    \u251c\u2500\u2500 a-1.0.0a1",
              "    \u251c\u2500\u2500 a-1.0.0a2",
              "    \u2514\u2500\u2500 a-1.0.0a3"
            ]
          },
          {
            "name": "transitive-package-only-prereleases",
            "packages": {
              "a": {
                "versions": {
                  "0.1.0": {
                    "requires_python": ">=3.7",
                    "requires": [
                      "b"
                    ],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              },
              "b": {
                "versions": {
                  "1.0.0a1": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              }
            },
            "root": {
              "requires_python": ">=3.7",
              "requires": [
                "a"
              ]
            },
            "expected": {
              "satisfiable": true,
              "packages": {
                "a": "0.1.0",
                "b": "1.0.0a1"
              },
              "explanation": "Since there are only prerelease versions of `b` available, it should be selected even though the user did not opt-in to prereleases."
            },
            "environment": {
              "python": "3.7",
              "prereleases": false
            },
            "template": "simple",
            "description": "The user requires any version of package `a` which requires `b` which only has prerelease versions available.",
            "source": "[PWD]/scenarios/prereleases.json",
            "version": "44ebef16",
            "tree": [
              "\u251c\u2500\u2500 environment",
              "\u2502   \u2514\u2500\u2500 python3.7",
              "\u251c\u2500\u2500 root",
              "\u2502   \u2514\u2500\u2500 requires a",
              "\u2502       \u2514\u2500\u2500 satisfied by a-0.1.0",
              "\u251c\u2500\u2500 a",
              "\u2502   \u2514\u2500\u2500 a-0.1.0",
              "\u2502       \u2514\u2500\u2500 requires b",
              "\u2502           \u2514\u2500\u2500 unsatisfied: no matching version",
              "\u2514\u2500\u2500 b",
              "    \u2514\u2500\u2500 b-1.0.0a1"
            ]
          },
          {
            "name": "transitive-package-only-prereleases-in-range",
            "packages": {
              "a": {
                "versions": {
                  "0.1.0": {
                    "requires_python": ">=3.7",
                    "requires": [
                      "b>0.1"
                    ],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              },
              "b": {
                "versions": {
                  "0.1.0": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "1.0.0a1": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              }
            },
            "root": {
              "requires_python": ">=3.7",
              "requires": [
                "a"
              ]
            },
            "expected": {
              "satisfiable": false,
              "packages": {},
              "explanation": "Since there are stable versions of `b` available, the prerelease version should not be selected without explicit opt-in. The available version is excluded by the range requested by the user."
            },
            "environment": {
              "python": "3.7",
              "prereleases": false
            },
            "template": "simple",
            "description": "The user requires package `a` which has a dependency on a package which only matches prerelease versions but they did not include a prerelease specifier.",
            "source": "[PWD]/scenarios/prereleases.json",
            "version": "27759187",
            "tree": [
              "\u251c\u2500\u2500 environment",
              "\u2502   \u2514\u2500\u2500 python3.7",
              "\u251c\u2500\u2500 root",
              "\u2502   \u2514\u2500\u2500 requires a",
              "\u2502       \u2514\u2500\u2500 satisfied by a-0.1.0",
              "\u251c\u2500\u2500 a",
              "\u2502   \u2514\u2500\u2500 a-0.1.0",
              "\u2502       \u2514\u2500\u2500 requires b>0.1",
              "\u2502           \u2514\u2500\u2500 unsatisfied: no matching version",
              "\u2514\u2500\u2500 b",
              "    \u251c\u2500\u2500 b-0.1.0",
              "    \u2514\u2500\u2500 b-1.0.0a1"
            ]
          },
          {
            "name": "transitive-package-only-prereleases-in-range-opt-in",
            "packages": {
              "a": {
                "versions": {
                  "0.1.0": {
                    "requires_python": ">=3.7",
                    "requires": [
                      "b>0.1"
                    ],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              },
              "b": {
                "versions": {
                  "0.1.0": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "1.0.0a1": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              }
            },
            "root": {
              "requires_python": ">=3.7",
              "requires": [
                "a",
                "b>0.0.0a1"
              ]
            },
            "expected": {
              "satisfiable": true,
              "packages": {
                "a": "0.1.0",
                "b": "1.0.0a1"
              },
              "explanation": "Since the user included a dependency on `b` with a prerelease specifier, a prerelease version can be selected."
            },
            "environment": {
              "python": "3.7",
              "prereleases": false
            },
            "template": "simple",
            "description": "The user requires package `a` which has a dependency on a package which only matches prerelease versions; the user has opted into allowing prereleases in `b` explicitly.",
            "source": "[PWD]/scenarios/prereleases.json",
            "version": "26efb6c5",
            "tree": [
              "\u251c\u2500\u2500 environment",
              "\u2502   \u2514\u2500\u2500 python3.7",
              "\u251c\u2500\u2500 root",
              "\u2502   \u251c\u2500\u2500 requires a",
              "\u2502   \u2502   \u2514\u2500\u2500 satisfied by a-0.1.0",
              "\u2502   \u2514\u2500\u2500 requires b>0.0.0a1",
              "\u2502       \u2514\u2500\u2500 satisfied by b-0.1.0",
              "\u251c\u2500\u2500 a",
              "\u2502   \u2514\u2500\u2500 a-0.1.0",
              "\u2502       \u2514\u2500\u2500 requires b>0.1",
              "\u2502           \u2514\u2500\u2500 unsatisfied: no matching version",
              "\u2514\u2500\u2500 b",
              "    \u251c\u2500\u2500 b-0.1.0",
              "    \u2514\u2500\u2500 b-1.0.0a1"
            ]
          },
          {
            "name": "transitive-prerelease-and-stable-dependency",
            "packages": {
              "a": {
                "versions": {
                  "1.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [
                      "c==2.0.0b1"
                    ],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              },
              "b": {
                "versions": {
                  "1.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [
                      "c>=1.0.0,<=3.0.0"
                    ],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              },
              "c": {
                "versions": {
                  "1.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.0.0b1": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              }
            },
            "root": {
              "requires_python": ">=3.7",
              "requires": [
                "a",
                "b"
              ]
            },
            "expected": {
              "satisfiable": false,
              "packages": {},
              "explanation": "Since the user did not explicitly opt-in to a prerelease, it cannot be selected."
            },
            "environment": {
              "python": "3.7",
              "prereleases": false
            },
            "template": "simple",
            "description": "A transitive dependency has both a prerelease and a stable selector, but can only be satisfied by a prerelease",
            "source": "[PWD]/scenarios/prereleases.json",
            "version": "c7ad0310",
            "tree": [
              "\u251c\u2500\u2500 environment",
              "\u2502   \u2514\u2500\u2500 python3.7",
              "\u251c\u2500\u2500 root",
              "\u2502   \u251c\u2500\u2500 requires a",
              "\u2502   \u2502   \u2514\u2500\u2500 satisfied by a-1.0.0",
              "\u2502   \u2514\u2500\u2500 requires b",
              "\u2502       \u2514\u2500\u2500 satisfied by b-1.0.0",
              "\u251c\u2500\u2500 a",
              "\u2502   \u2514\u2500\u2500 a-1.0.0",
              "\u2502       \u2514\u2500\u2500 requires c==2.0.0b1",
              "\u2502           \u2514\u2500\u2500 satisfied by c-2.0.0b1",
              "\u251c\u2500\u2500 b",
              "\u2502   \u2514\u2500\u2500 b-1.0.0",
              "\u2502       \u2514\u2500\u2500 requires c>=1.0.0,<=3.0.0",
              "\u2502           \u2514\u2500\u2500 satisfied by c-1.0.0",
              "\u2514\u2500\u2500 c",
              "    \u251c\u2500\u2500 c-1.0.0",
              "    \u2514\u2500\u2500 c-2.0.0b1"
            ]
          },
          {
            "name": "transitive-prerelease-and-stable-dependency-opt-in",
            "packages": {
              "a": {
                "versions": {
                  "1.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [
                      "c==2.0.0b1"
                    ],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              },
              "b": {
                "versions": {
                  "1.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [
                      "c>=1.0.0,<=3.0.0"
                    ],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              },
              "c": {
                "versions": {
                  "1.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.0.0b1": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              }
            },
            "root": {
              "requires_python": ">=3.7",
              "requires": [
                "a",
                "b",
                "c>=0.0.0a1"
              ]
            },
            "expected": {
              "satisfiable": true,
              "packages": {
                "a": "1.0.0",
                "b": "1.0.0",
                "c": "2.0.0b1"
              },
              "explanation": "Since the user explicitly opted-in to a prerelease for `c`, it can be installed."
            },
            "environment": {
              "python": "3.7",
              "prereleases": false
            },
            "template": "simple",
            "description": "A transitive dependency has both a prerelease and a stable selector, but can only be satisfied by a prerelease. The user includes an opt-in to prereleases of the transitive dependency.",
            "source": "[PWD]/scenarios/prereleases.json",
            "version": "a05f7cb8",
            "tree": [
              "\u251c\u2500\u2500 environment",
              "\u2502   \u2514\u2500\u2500 python3.7",
              "\u251c\u2500\u2500 root",
              "\u2502   \u251c\u2500\u2500 requires a",
              "\u2502   \u2502   \u2514\u2500\u2500 satisfied by a-1.0.0",
              "\u2502   \u251c\u2500\u2500 requires b",
              "\u2502   \u2502   \u2514\u2500\u2500 satisfied by b-1.0.0",
              "\u2502   \u2514\u2500\u2500 requires c>=0.0.0a1",
              "\u2502       \u251c\u2500\u2500 satisfied by c-1.0.0",
              "\u2502       \u2514\u2500\u2500 satisfied by c-2.0.0b1",
              "\u251c\u2500\u2500 a",
              "\u2502   \u2514\u2500\u2500 a-1.0.0",
              "\u2502       \u2514\u2500\u2500 requires c==2.0.0b1",
              "\u2502           \u2514\u2500\u2500 satisfied by c-2.0.0b1",
              "\u251c\u2500\u2500 b",
              "\u2502   \u2514\u2500\u2500 b-1.0.0",
              "\u2502       \u2514\u2500\u2500 requires c>=1.0.0,<=3.0.0",
              "\u2502           \u2514\u2500\u2500 satisfied by c-1.0.0",
              "\u2514\u2500\u2500 c",
              "    \u251c\u2500\u2500 c-1.0.0",
              "    \u2514\u2500\u2500 c-2.0.0b1"
            ]
          },
          {
            "name": "transitive-prerelease-and-stable-dependency-many-versions",
            "packages": {
              "a": {
                "versions": {
                  "1.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [
                      "c>=2.0.0b1"
                    ],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              },
              "b": {
                "versions": {
                  "1.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [
                      "c>=1.0.0,<=3.0.0"
                    ],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              },
              "c": {
                "versions": {
                  "1.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.0.0a1": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.0.0a2": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.0.0a3": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.0.0a4": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.0.0a5": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.0.0a6": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.0.0a7": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.0.0a8": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.0.0a9": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.0.0b1": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.0.0b2": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.0.0b3": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.0.0b4": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.0.0b5": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.0.0b6": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.0.0b7": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.0.0b8": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.0.0b9": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              }
            },
            "root": {
              "requires_python": ">=3.7",
              "requires": [
                "a",
                "b"
              ]
            },
            "expected": {
              "satisfiable": false,
              "packages": {},
              "explanation": "Since the user did not explicitly opt-in to a prerelease, it cannot be selected."
            },
            "environment": {
              "python": "3.7",
              "prereleases": false
            },
            "template": "simple",
            "description": "A transitive dependency has both a prerelease and a stable selector, but can only be satisfied by a prerelease. There are many prerelease versions.",
            "source": "[PWD]/scenarios/prereleases.json",
            "version": "02ae765c",
            "tree": [
              "\u251c\u2500\u2500 environment",
              "\u2502   \u2514\u2500\u2500 python3.7",
              "\u251c\u2500\u2500 root",
              "\u2502   \u251c\u2500\u2500 requires a",
              "\u2502   \u2502   \u2514\u2500\u2500 satisfied by a-1.0.0",
              "\u2502   \u2514\u2500\u2500 requires b",
              "\u2502       \u2514\u2500\u2500 satisfied by b-1.0.0",
              "\u251c\u2500\u2500 a",
              "\u2502   \u2514\u2500\u2500 a-1.0.0",
              "\u2502       \u2514\u2500\u2500 requires c>=2.0.0b1",
              "\u2502           \u251c\u2500\u2500 satisfied by c-2.0.0b1",
              "\u2502           \u251c\u2500\u2500 satisfied by c-2.0.0b2",
              "\u2502           \u251c\u2500\u2500 satisfied by c-2.0.0b3",
              "\u2502           \u251c\u2500\u2500 satisfied by c-2.0.0b4",
              "\u2502           \u251c\u2500\u2500 satisfied by c-2.0.0b5",
              "\u2502           \u251c\u2500\u2500 satisfied by c-2.0.0b6",
              "\u2502           \u251c\u2500\u2500 satisfied by c-2.0.0b7",
              "\u2502           \u251c\u2500\u2500 satisfied by c-2.0.0b8",
              "\u2502           \u2514\u2500\u2500 satisfied by c-2.0.0b9",
              "\u251c\u2500\u2500 b",
              "\u2502   \u2514\u2500\u2500 b-1.0.0",
              "\u2502       \u2514\u2500\u2500 requires c>=1.0.0,<=3.0.0",
              "\u2502           \u2514\u2500\u2500 satisfied by c-1.0.0",
              "\u2514\u2500\u2500 c",
              "    \u251c\u2500\u2500 c-1.0.0",
              "    \u251c\u2500\u2500 c-2.0.0a1",
              "    \u251c\u2500\u2500 c-2.0.0a2",
              "    \u251c\u2500\u2500 c-2.0.0a3",
              "    \u251c\u2500\u2500 c-2.0.0a4",
              "    \u251c\u2500\u2500 c-2.0.0a5",
              "    \u251c\u2500\u2500 c-2.0.0a6",
              "    \u251c\u2500\u2500 c-2.0.0a7",
              "    \u251c\u2500\u2500 c-2.0.0a8",
              "    \u251c\u2500\u2500 c-2.0.0a9",
              "    \u251c\u2500\u2500 c-2.0.0b1",
              "    \u251c\u2500\u2500 c-2.0.0b2",
              "    \u251c\u2500\u2500 c-2.0.0b3",
              "    \u251c\u2500\u2500 c-2.0.0b4",
              "    \u251c\u2500\u2500 c-2.0.0b5",
              "    \u251c\u2500\u2500 c-2.0.0b6",
              "    \u251c\u2500\u2500 c-2.0.0b7",
              "    \u251c\u2500\u2500 c-2.0.0b8",
              "    \u2514\u2500\u2500 c-2.0.0b9"
            ]
          },
          {
            "name": "transitive-prerelease-and-stable-dependency-many-versions-holes",
            "packages": {
              "a": {
                "versions": {
                  "1.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [
                      "c>1.0.0,!=2.0.0a5,!=2.0.0a6,!=2.0.0a7,!=2.0.0b1,<2.0.0b5"
                    ],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              },
              "b": {
                "versions": {
                  "1.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [
                      "c>=1.0.0,<=3.0.0"
                    ],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              },
              "c": {
                "versions": {
                  "1.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.0.0a1": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.0.0a2": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.0.0a3": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.0.0a4": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.0.0a5": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.0.0a6": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.0.0a7": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.0.0a8": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.0.0a9": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.0.0b1": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.0.0b2": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.0.0b3": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.0.0b4": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.0.0b5": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.0.0b6": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.0.0b7": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.0.0b8": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.0.0b9": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              }
            },
            "root": {
              "requires_python": ">=3.7",
              "requires": [
                "a",
                "b"
              ]
            },
            "expected": {
              "satisfiable": false,
              "packages": {},
              "explanation": "Since the user did not explicitly opt-in to a prerelease, it cannot be selected."
            },
            "environment": {
              "python": "3.7",
              "prereleases": false
            },
            "template": "simple",
            "description": "A transitive dependency has both a prerelease and a stable selector, but can only be satisfied by a prerelease. There are many prerelease versions and some are excluded.",
            "source": "[PWD]/scenarios/prereleases.json",
            "version": "ef9ce80f",
            "tree": [
              "\u251c\u2500\u2500 environment",
              "\u2502   \u2514\u2500\u2500 python3.7",
              "\u251c\u2500\u2500 root",
              "\u2502   \u251c\u2500\u2500 requires a",
              "\u2502   \u2502   \u2514\u2500\u2500 satisfied by a-1.0.0",
              "\u2502   \u2514\u2500\u2500 requires b",
              "\u2502       \u2514\u2500\u2500 satisfied by b-1.0.0",
              "\u251c\u2500\u2500 a",
              "\u2502   \u2514\u2500\u2500 a-1.0.0",
              "\u2502       \u2514\u2500\u2500 requires c>1.0.0,!=2.0.0a5,!=2.0.0a6,!=2.0.0a7,!=2.0.0b1,<2.0.0b5",
              "\u2502           \u2514\u2500\u2500 unsatisfied: no matching version",
              "\u251c\u2500\u2500 b",
              "\u2502   \u2514\u2500\u2500 b-1.0.0",
              "\u2502       \u2514\u2500\u2500 requires c>=1.0.0,<=3.0.0",
              "\u2502           \u2514\u2500\u2500 satisfied by c-1.0.0",
              "\u2514\u2500\u2500 c",
              "    \u251c\u2500\u2500 c-1.0.0",
              "    \u251c\u2500\u2500 c-2.0.0a1",
              "    \u251c\u2500\u2500 c-2.0.0a2",
              "    \u251c\u2500\u2500 c-2.0.0a3",
              "    \u251c\u2500\u2500 c-2.0.0a4",
              "    \u251c\u2500\u2500 c-2.0.0a5",
              "    \u251c\u2500\u2500 c-2.0.0a6",
              "    \u251c\u2500\u2500 c-2.0.0a7",
              "    \u251c\u2500\u2500 c-2.0.0a8",
              "    \u251c\u2500\u2500 c-2.0.0a9",
              "    \u251c\u2500\u2500 c-2.0.0b1",
              "    \u251c\u2500\u2500 c-2.0.0b2",
              "    \u251c\u2500\u2500 c-2.0.0b3",
              "    \u251c\u2500\u2500 c-2.0.0b4",
              "    \u251c\u2500\u2500 c-2.0.0b5",
              "    \u251c\u2500\u2500 c-2.0.0b6",
              "    \u251c\u2500\u2500 c-2.0.0b7",
              "    \u251c\u2500\u2500 c-2.0.0b8",
              "    \u2514\u2500\u2500 c-2.0.0b9"
            ]
          },
          {
            "name": "requires-python-version-does-not-exist",
            "packages": {
              "a": {
                "versions": {
                  "1.0.0": {
                    "requires_python": ">=4.0",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              }
            },
            "root": {
              "requires_python": ">=3.7",
              "requires": [
                "a==1.0.0"
              ]
            },
            "expected": {
              "satisfiable": false,
              "packages": {},
              "explanation": null
            },
            "environment": {
              "python": "3.7",
              "prereleases": false
            },
            "template": "simple",
            "description": "The user requires a package which requires a Python version that does not exist",
            "source": "[PWD]/scenarios/requires-python.json",
            "version": "0825b69c",
            "tree": [
              "\u251c\u2500\u2500 environment",
              "\u2502   \u2514\u2500\u2500 python3.7",
              "\u251c\u2500\u2500 root",
              "\u2502   \u2514\u2500\u2500 requires a==1.0.0",
              "\u2502       \u2514\u2500\u2500 satisfied by a-1.0.0",
              "\u2514\u2500\u2500 a",
              "    \u2514\u2500\u2500 a-1.0.0",
              "        \u2514\u2500\u2500 requires python>=4.0 (incompatible with environment)"
            ]
          },
          {
            "name": "requires-python-version-less-than-current",
            "packages": {
              "a": {
                "versions": {
                  "1.0.0": {
                    "requires_python": "<=3.8",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              }
            },
            "root": {
              "requires_python": ">=3.7",
              "requires": [
                "a==1.0.0"
              ]
            },
            "expected": {
              "satisfiable": false,
              "packages": {},
              "explanation": null
            },
            "environment": {
              "python": "3.9",
              "prereleases": false
            },
            "template": "simple",
            "description": "The user requires a package which requires a Python version less than the current version",
            "source": "[PWD]/scenarios/requires-python.json",
            "version": "f9296b84",
            "tree": [
              "\u251c\u2500\u2500 environment",
              "\u2502   \u2514\u2500\u2500 python3.9",
              "\u251c\u2500\u2500 root",
              "\u2502   \u2514\u2500\u2500 requires a==1.0.0",
              "\u2502       \u2514\u2500\u2500 satisfied by a-1.0.0",
              "\u2514\u2500\u2500 a",
              "    \u2514\u2500\u2500 a-1.0.0",
              "        \u2514\u2500\u2500 requires python<=3.8 (incompatible with environment)"
            ]
          },
          {
            "name": "requires-python-version-greater-than-current",
            "packages": {
              "a": {
                "versions": {
                  "1.0.0": {
                    "requires_python": ">=3.10",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              }
            },
            "root": {
              "requires_python": ">=3.7",
              "requires": [
                "a==1.0.0"
              ]
            },
            "expected": {
              "satisfiable": false,
              "packages": {},
              "explanation": null
            },
            "environment": {
              "python": "3.9",
              "prereleases": false
            },
            "template": "simple",
            "description": "The user requires a package which requires a Python version greater than the current version",
            "source": "[PWD]/scenarios/requires-python.json",
            "version": "a11d5394",
            "tree": [
              "\u251c\u2500\u2500 environment",
              "\u2502   \u2514\u2500\u2500 python3.9",
              "\u251c\u2500\u2500 root",
              "\u2502   \u2514\u2500\u2500 requires a==1.0.0",
              "\u2502       \u2514\u2500\u2500 satisfied by a-1.0.0",
              "\u2514\u2500\u2500 a",
              "    \u2514\u2500\u2500 a-1.0.0",
              "        \u2514\u2500\u2500 requires python>=3.10 (incompatible with environment)"
            ]
          },
          {
            "name": "requires-python-version-greater-than-current-many",
            "packages": {
              "a": {
                "versions": {
                  "2.0.0": {
                    "requires_python": ">=3.10",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.1.0": {
                    "requires_python": ">=3.10",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.2.0": {
                    "requires_python": ">=3.10",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.3.0": {
                    "requires_python": ">=3.10",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.4.0": {
                    "requires_python": ">=3.10",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.5.0": {
                    "requires_python": ">=3.10",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "3.0.0": {
                    "requires_python": ">=3.11",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "3.1.0": {
                    "requires_python": ">=3.11",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "3.2.0": {
                    "requires_python": ">=3.11",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "3.3.0": {
                    "requires_python": ">=3.11",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "3.4.0": {
                    "requires_python": ">=3.11",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "3.5.0": {
                    "requires_python": ">=3.11",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              }
            },
            "root": {
              "requires_python": ">=3.7",
              "requires": [
                "a==1.0.0"
              ]
            },
            "expected": {
              "satisfiable": false,
              "packages": {},
              "explanation": null
            },
            "environment": {
              "python": "3.9",
              "prereleases": false
            },
            "template": "simple",
            "description": "The user requires a package which has many versions which all require a Python version greater than the current version",
            "source": "[PWD]/scenarios/requires-python.json",
            "version": "02dc550c",
            "tree": [
              "\u251c\u2500\u2500 environment",
              "\u2502   \u2514\u2500\u2500 python3.9",
              "\u251c\u2500\u2500 root",
              "\u2502   \u2514\u2500\u2500 requires a==1.0.0",
              "\u2502       \u2514\u2500\u2500 unsatisfied: no matching version",
              "\u2514\u2500\u2500 a",
              "    \u251c\u2500\u2500 a-2.0.0",
              "    \u2502   \u2514\u2500\u2500 requires python>=3.10 (incompatible with environment)",
              "    \u251c\u2500\u2500 a-2.1.0",
              "    \u2502   \u2514\u2500\u2500 requires python>=3.10 (incompatible with environment)",
              "    \u251c\u2500\u2500 a-2.2.0",
              "    \u2502   \u2514\u2500\u2500 requires python>=3.10 (incompatible with environment)",
              "    \u251c\u2500\u2500 a-2.3.0",
              "    \u2502   \u2514\u2500\u2500 requires python>=3.10 (incompatible with environment)",
              "    \u251c\u2500\u2500 a-2.4.0",
              "    \u2502   \u2514\u2500\u2500 requires python>=3.10 (incompatible with environment)",
              "    \u251c\u2500\u2500 a-2.5.0",
              "    \u2502   \u2514\u2500\u2500 requires python>=3.10 (incompatible with environment)",
              "    \u251c\u2500\u2500 a-3.0.0",
              "    \u2502   \u2514\u2500\u2500 requires python>=3.11 (incompatible with environment)",
              "    \u251c\u2500\u2500 a-3.1.0",
              "    \u2502   \u2514\u2500\u2500 requires python>=3.11 (incompatible with environment)",
              "    \u251c\u2500\u2500 a-3.2.0",
              "    \u2502   \u2514\u2500\u2500 requires python>=3.11 (incompatible with environment)",
              "    \u251c\u2500\u2500 a-3.3.0",
              "    \u2502   \u2514\u2500\u2500 requires python>=3.11 (incompatible with environment)",
              "    \u251c\u2500\u2500 a-3.4.0",
              "    \u2502   \u2514\u2500\u2500 requires python>=3.11 (incompatible with environment)",
              "    \u2514\u2500\u2500 a-3.5.0",
              "        \u2514\u2500\u2500 requires python>=3.11 (incompatible with environment)"
            ]
          },
          {
            "name": "requires-python-version-greater-than-current-backtrack",
            "packages": {
              "a": {
                "versions": {
                  "1.0.0": {
                    "requires_python": ">=3.9",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.0.0": {
                    "requires_python": ">=3.10",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "3.0.0": {
                    "requires_python": ">=3.11",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "4.0.0": {
                    "requires_python": ">=3.12",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              }
            },
            "root": {
              "requires_python": ">=3.7",
              "requires": [
                "a"
              ]
            },
            "expected": {
              "satisfiable": true,
              "packages": {
                "a": "1.0.0"
              },
              "explanation": null
            },
            "environment": {
              "python": "3.9",
              "prereleases": false
            },
            "template": "simple",
            "description": "The user requires a package where recent versions require a Python version greater than the current version, but an older version is compatible.",
            "source": "[PWD]/scenarios/requires-python.json",
            "version": "ef060cef",
            "tree": [
              "\u251c\u2500\u2500 environment",
              "\u2502   \u2514\u2500\u2500 python3.9",
              "\u251c\u2500\u2500 root",
              "\u2502   \u2514\u2500\u2500 requires a",
              "\u2502       \u251c\u2500\u2500 satisfied by a-1.0.0",
              "\u2502       \u251c\u2500\u2500 satisfied by a-2.0.0",
              "\u2502       \u251c\u2500\u2500 satisfied by a-3.0.0",
              "\u2502       \u2514\u2500\u2500 satisfied by a-4.0.0",
              "\u2514\u2500\u2500 a",
              "    \u251c\u2500\u2500 a-1.0.0",
              "    \u251c\u2500\u2500 a-2.0.0",
              "    \u2502   \u2514\u2500\u2500 requires python>=3.10 (incompatible with environment)",
              "    \u251c\u2500\u2500 a-3.0.0",
              "    \u2502   \u2514\u2500\u2500 requires python>=3.11 (incompatible with environment)",
              "    \u2514\u2500\u2500 a-4.0.0",
              "        \u2514\u2500\u2500 requires python>=3.12 (incompatible with environment)"
            ]
          },
          {
            "name": "requires-python-version-greater-than-current-excluded",
            "packages": {
              "a": {
                "versions": {
                  "1.0.0": {
                    "requires_python": ">=3.9",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "2.0.0": {
                    "requires_python": ">=3.10",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "3.0.0": {
                    "requires_python": ">=3.11",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  },
                  "4.0.0": {
                    "requires_python": ">=3.12",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              }
            },
            "root": {
              "requires_python": ">=3.7",
              "requires": [
                "a>=2.0.0"
              ]
            },
            "expected": {
              "satisfiable": false,
              "packages": {},
              "explanation": null
            },
            "environment": {
              "python": "3.9",
              "prereleases": false
            },
            "template": "simple",
            "description": "The user requires a package where recent versions require a Python version greater than the current version, but an excluded older version is compatible.",
            "source": "[PWD]/scenarios/requires-python.json",
            "version": "1bde0c18",
            "tree": [
              "\u251c\u2500\u2500 environment",
              "\u2502   \u2514\u2500\u2500 python3.9",
              "\u251c\u2500\u2500 root",
              "\u2502   \u2514\u2500\u2500 requires a>=2.0.0",
              "\u2502       \u251c\u2500\u2500 satisfied by a-2.0.0",
              "\u2502       \u251c\u2500\u2500 satisfied by a-3.0.0",
              "\u2502       \u2514\u2500\u2500 satisfied by a-4.0.0",
              "\u2514\u2500\u2500 a",
              "    \u251c\u2500\u2500 a-1.0.0",
              "    \u251c\u2500\u2500 a-2.0.0",
              "    \u2502   \u2514\u2500\u2500 requires python>=3.10 (incompatible with environment)",
              "    \u251c\u2500\u2500 a-3.0.0",
              "    \u2502   \u2514\u2500\u2500 requires python>=3.11 (incompatible with environment)",
              "    \u2514\u2500\u2500 a-4.0.0",
              "        \u2514\u2500\u2500 requires python>=3.12 (incompatible with environment)"
            ]
          },
          {
            "name": "specific-tag-and-default",
            "packages": {
              "a": {
                "versions": {
                  "1.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [
                      "cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64",
                      "py3-none-any"
                    ],
                    "description": ""
                  }
                }
              }
            },
            "root": {
              "requires_python": ">=3.7",
              "requires": [
                "a"
              ]
            },
            "expected": {
              "satisfiable": true,
              "packages": {},
              "explanation": null
            },
            "environment": {
              "python": "3.7",
              "prereleases": false
            },
            "template": "simple",
            "description": "A wheel for a specific platform is available alongside the default.",
            "source": "[PWD]/scenarios/wheels.json",
            "version": "74e4a459",
            "tree": [
              "\u251c\u2500\u2500 environment",
              "\u2502   \u2514\u2500\u2500 python3.7",
              "\u251c\u2500\u2500 root",
              "\u2502   \u2514\u2500\u2500 requires a",
              "\u2502       \u2514\u2500\u2500 satisfied by a-1.0.0",
              "\u2514\u2500\u2500 a",
              "    \u2514\u2500\u2500 a-1.0.0"
            ]
          },
          {
            "name": "only-wheels",
            "packages": {
              "a": {
                "versions": {
                  "1.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": false,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              }
            },
            "root": {
              "requires_python": ">=3.7",
              "requires": [
                "a"
              ]
            },
            "expected": {
              "satisfiable": true,
              "packages": {},
              "explanation": null
            },
            "environment": {
              "python": "3.7",
              "prereleases": false
            },
            "template": "simple",
            "description": "No source distributions are available, only wheels.",
            "source": "[PWD]/scenarios/wheels.json",
            "version": "4f019491",
            "tree": [
              "\u251c\u2500\u2500 environment",
              "\u2502   \u2514\u2500\u2500 python3.7",
              "\u251c\u2500\u2500 root",
              "\u2502   \u2514\u2500\u2500 requires a",
              "\u2502       \u2514\u2500\u2500 satisfied by a-1.0.0",
              "\u2514\u2500\u2500 a",
              "    \u2514\u2500\u2500 a-1.0.0"
            ]
          },
          {
            "name": "no-wheels",
            "packages": {
              "a": {
                "versions": {
                  "1.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": false,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              }
            },
            "root": {
              "requires_python": ">=3.7",
              "requires": [
                "a"
              ]
            },
            "expected": {
              "satisfiable": true,
              "packages": {},
              "explanation": null
            },
            "environment": {
              "python": "3.7",
              "prereleases": false
            },
            "template": "simple",
            "description": "No wheels are available, only source distributions.",
            "source": "[PWD]/scenarios/wheels.json",
            "version": "614d801c",
            "tree": [
              "\u251c\u2500\u2500 environment",
              "\u2502   \u2514\u2500\u2500 python3.7",
              "\u251c\u2500\u2500 root",
              "\u2502   \u2514\u2500\u2500 requires a",
              "\u2502       \u2514\u2500\u2500 satisfied by a-1.0.0",
              "\u2514\u2500\u2500 a",
              "    \u2514\u2500\u2500 a-1.0.0"
            ]
          },
          {
            "name": "no-wheels-with-matching-platform",
            "packages": {
              "a": {
                "versions": {
                  "1.0.0": {
                    "requires_python": ">=3.7",
                    "requires": [],
                    "extras": {},
                    "sdist": true,
                    "wheel": true,
                    "wheel_tags": [],
                    "description": ""
                  }
                }
              }
            },
            "root": {
              "requires_python": ">=3.7",
              "requires": [
                "a"
              ]
            },
            "expected": {
              "satisfiable": true,
              "packages": {},
              "explanation": null
            },
            "environment": {
              "python": "3.7",
              "prereleases": false
            },
            "template": "simple",
            "description": "No wheels with valid tags are available, just source distributions.",
            "source": "[PWD]/scenarios/wheels.json",
            "version": "737bbfd4",
            "tree": [
              "\u251c\u2500\u2500 environment",
              "\u2502   \u2514\u2500\u2500 python3.7",
              "\u251c\u2500\u2500 root",
              "\u2502   \u2514\u2500\u2500 requires a",
              "\u2502       \u2514\u2500\u2500 satisfied by a-1.0.0",
              "\u2514\u2500\u2500 a",
              "    \u2514\u2500\u2500 a-1.0.0"
            ]
          }
        ]
      }
  
    ''',
  })
# ---
# name: test_inspect_one_target_does_not_exist
  dict({
    'exit_code': 1,
    'stderr': '''
      File 'foo' not found.
  
    ''',
    'stdout': '',
  })
# ---
# name: test_inspect_target_does_not_exist
  dict({
    'exit_code': 1,
    'stderr': '''
      File 'foo' not found.
  
    ''',
    'stdout': '',
  })
# ---
